<p>
 Requesting an immunization history is a key function supported by messaging. As described above, a complete immunization history includes all the information needed for evaluating what immunizations have been received and what ones are needed next. This query is defined in a Query Profile in Chapter 7 of the Implementation Guide. The requesting system sends a request with some combination of demographic and identifier information.
</p>
<p>
 <br/>
</p>
<table style="width: 100%;">
 <tbody>
  <tr>
   <td class="fr-thick" style="width: 100.0000%;">
    When a client is does not want his/her data shared and is found, local business rules need to be applied. For instance, some applications may behave as if the client record does not exist in the system. That is, it would respond with a &ldquo;no records found&rdquo; message. The exception to this would be if the requesting provider were the one who set the protection indicator. In this case, the person may be a candidate that is returned. Another response might be to send limited information notifying the requesting system that the person exists but wants his/her records protected.
   </td>
  </tr>
 </tbody>
</table>
<p>
 <br/>
</p>
<p>
 The sending system must deal with the returned messages. While it is outside the scope of this implementation guide, there are some logical actions. These actions should be documented locally. The following indicate some of the possibilities. The list is neither prescriptive nor complete.
</p>
<ul>
 <li>
  One candidate immunization history is returned.
  <ul>
   <li>
    User reviews and accepts
   </li>
   <li>
    User reviews and rejects
   </li>
   <li>
    Requesting system accepts and marks for review.
   </li>
  </ul>
 </li>
 <li>
  A list of candidates is returned
  <ul>
   <li>
    User reviews and selects one
    <ul>
     <li>
      New QBP is sent using the identifying information from the RSP list
     </li>
    </ul>
   </li>
   <li>
    User reviews and rejects all
    <ul>
     <li>
      User creates a new query with more or different information
     </li>
    </ul>
   </li>
   <li>
    Requesting system accepts and stores the list for later review
   </li>
  </ul>
 </li>
</ul>
<p>
 The following is an example query using the QBP^Q11 Z34 query profile specified in the Implementation Guide:
</p>
<p>
 <span style="font-family: Times New Roman,Times,serif,-webkit-standard;">
  MSH|^~\&amp;|||||201405150010-0500||QBP^Q11^QBP_Q11|793543|P|2.5.1|||||||||Z34^CDCPHINVS &lt;CR&gt;
 </span>
</p>
<p>
 <span style="font-family: Times New Roman,Times,serif,-webkit-standard;">
  QPD| Z34^Request Immunization History^CDCPHINVS |37374859|123456^^^MYEHR^MR|Child^Bobbie^Q^^^^L|Que^Suzy^^^^^M|20050512|M|10 East Main St^^Myfaircity^GA^^^L&lt;CR&gt;
 </span>
</p>
<p>
 <span style="font-family: Times New Roman,Times,serif,-webkit-standard;">
  RCP|I|5^RD&amp;records&amp;HL70126 &lt;CR&gt;
 </span>
</p>
<p>
 This query is being sent from a system with a name space identifier of MYEHR. It is requesting an immunization history for a person named Bobbie Q Child. His mother&rsquo;s maiden name was Suzy Que. He was born 5/12/2005 and lives at 10 East Main St, Myfaircity, Georgia. His medical record number with MYEHR is 12345. The most records that the requesting system wants returned if lower confidence candidates are returned is 5. Processing is expected to be &ldquo;immediate&rdquo;.
</p>
<p>
 <br/>
</p>
<table style="width: 100%;">
 <tbody>
  <tr>
   <td class="fr-thick" style="width: 100.0000%;">
    Local implementations will specify which fields are required in the QPD. All fields have a usage of RE (required but may be empty). This means that sending systems may populate any or all of these fields. Receiving systems must accept values in any of these fields but may specify which are required and which will be ignored.
    <br/>
   </td>
  </tr>
 </tbody>
</table>
<p>
 <br/>
</p>
